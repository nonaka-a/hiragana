<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>もじれんしゅう</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- BIZ UDPMincho (UD明朝) -->
    <link href="https://fonts.googleapis.com/css2?family=BIZ+UDPMincho:wght@700&display=swap" rel="stylesheet">
    <!-- CSS読み込み -->
    <link rel="stylesheet" href="css/style.css">
    
    <!-- 書き順アニメーション用ライブラリ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/mbilbille/dmak/src/dmakLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/mbilbille/dmak/src/dmak.js"></script>
</head>
<body>

    <audio id="se-success" src="sounds/success.mp3"></audio>

    <!-- 一覧画面 -->
    <div id="screen-list" class="screen active">
        <h1 id="app-title">🎈 ひらがな れんしゅう 🎈</h1>
        
        <div class="mode-switcher">
            <button class="mode-btn active" data-mode="hira" onclick="switchMode('hira')">ひらがな</button>
            <button class="mode-btn" data-mode="kata" onclick="switchMode('kata')">カタカナ</button>
            <button class="mode-btn" data-mode="kanji1" onclick="switchMode('kanji1')">1年生漢字</button>
            <button class="mode-btn" data-mode="kanji2" onclick="switchMode('kanji2')">2年生漢字</button>
            <button class="mode-btn" data-mode="kanji3" onclick="switchMode('kanji3')">3年生漢字</button>
        </div>

        <p>れんしゅうする もじを えらんでね！</p>
        <div class="gojuon-container" id="gojuon-container">
            <!-- JSで生成 -->
        </div>
    </div>

    <!-- 練習画面 -->
    <div id="screen-practice" class="screen">
        <h1 id="practice-title">れんしゅう</h1>
        
        <div class="practice-wrapper">
            <!-- 左パネル：読み -->
            <div id="info-left" class="info-panel">
                <div class="info-group">
                    <div class="info-label">おんよみ</div>
                    <div id="val-onyomi" class="info-value"></div>
                </div>
                <div class="info-group">
                    <div class="info-label">くんよみ</div>
                    <div id="val-kunyomi" class="info-value"></div>
                </div>
            </div>

            <!-- 中央：キャンバス -->
            <div class="canvas-area">
                <canvas id="drawingBoard" width="300" height="300"></canvas>
            </div>

            <!-- 右パネル：例文 -->
            <div id="info-right" class="info-panel">
                <div class="info-label">れいぶん</div>
                <div id="val-example" class="info-value example"></div>
            </div>
        </div>

        <div class="controls">
            <button class="btn-reset" onclick="resetCanvas()">かきなおす</button>
            <button class="btn-check" onclick="checkScore()">はんてい</button>
            <button class="btn-anim" onclick="openAnimModal()">かきじゅん</button>
            <button class="btn-back" onclick="goBack()">いちらんへ</button>
        </div>

        <div id="result-msg"></div>
    </div>

    <!-- 書き順モーダル -->
    <div id="modal-anim" class="modal-overlay">
        <div class="modal-content">
            <h2 style="margin-top:0; color:#555;">かきじゅん</h2>
            <div id="anim-container"></div>
            <button class="btn-close-modal" onclick="closeAnimModal()">とじる</button>
        </div>
    </div>

    <!-- データとメインロジックの読み込み -->
    <script src="js/data.js"></script>
    <script src="js/main.js"></script>
</body>
</html>